<html>

<head>
  <script type="text/javascript" src='phaser.js'></script>
  <script type="text/javascript" src='js/pilasengine.js'></script>
</head>

<body>

  <input type="range" id="slider" value="">
  <button type="button" id="pauseButton">Pause</button>

  <div id="elementoCanvas"></div>

  <script type="text/javascript">
    window.pilas = pilasengine.iniciar('elementoCanvas');

    var slider = document.getElementById('slider');
    var pauseButton = document.getElementById('pauseButton');
    hideSlider();

    function showSlider() {
      slider.style.visibility = null;
      slider.setAttribute('max', pilas.game_history.get_length() -1);
      slider.value = pilas.game_history.get_length();

      slider.onmousemove = function(value) {
        pilas.restore(this.value);
      };

      slider.onchange = function(value) {
        pilas.restore(this.value);
      }
    }

    function hideSlider() {
      //slider.style.visibility = "hidden";
    }

    pauseButton.onclick = function() {
      pilas.toggle_pause();

      if (pilas.game_enabled) {
        showSlider();
        this.textContent = "Play";
      } else {
        hideSlider();
        this.textContent = "Pause";
      }
    };

  </script>

</body>

</html>
